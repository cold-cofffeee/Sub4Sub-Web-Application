<?php session_start(); require_once '../config/config.php'; require_once '../classes/Database.php'; $db = Database::getInstance(); if (!isset($_SESSION['admin_id'])) { header('Location: login.php'); exit; } $message = ''; $messageType = ''; if ($_SERVER['REQUEST_METHOD'] === 'POST') { $content = $_POST['content'] ?? ''; try { $db->query("UPDATE tos_content SET content = ? WHERE id = 1", [$content]); $message = 'Updated successfully'; $messageType = 'success'; } catch (Exception $e) { $message = 'Failed to update'; $messageType = 'danger'; } } try { $result = $db->query("SELECT content FROM tos_content WHERE id = 1")->fetch(); $content = $result['content'] ?? ''; } catch (Exception $e) { $content = ''; } ?><!DOCTYPE html><html><head><meta charset="UTF-8"><title>Edit Terms of Service</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"></head><body><div class="container mt-5"><h1>Edit Terms of Service</h1><?php if ($message): ?><div class="alert alert-<?= $messageType ?>"><?= $message ?></div><?php endif; ?><form method="POST"><textarea class="form-control mb-3" name="content" rows="10"><?= htmlspecialchars($content) ?></textarea><button type="submit" class="btn btn-primary">Update</button> <a href="content-management.php" class="btn btn-secondary">Back</a></form></div></body></html>
